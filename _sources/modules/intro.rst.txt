==================
CFG Practice Problems
==================

.. contents::
   :local:
   :depth: 2

----

.. raw:: html

   <style>
     /* Enhanced color scheme and typography */
     h2, h3 { 
       color: #7B1113; 
       border-bottom: 2px solid #7B1113;
       padding-bottom: 0.3em;
       margin-top: 1.5em;
     }
     
     /* Question boxes with distinct styling */
     .admonition {
       border-radius: 8px;
       padding: 1em 1.2em;
       margin: 1.5em 0;
       box-shadow: 0 2px 8px rgba(0,0,0,0.1);
     }
     
     .admonition-title {
       font-weight: 700;
       font-size: 1.1em;
       margin-bottom: 0.8em;
       display: flex;
       align-items: center;
     }
     
     .admonition-title:before {
       content: "ğŸ“";
       margin-right: 0.5em;
       font-size: 1.2em;
     }
     
     /* Dropdown solution styling */
     details {
       background: #F6FFED;
       border: 2px solid #52C41A;
       border-radius: 8px;
       padding: 1em;
       margin: 1em 0;
       transition: all 0.3s ease;
     }
     
     details:hover {
       box-shadow: 0 4px 12px rgba(82, 196, 26, 0.2);
     }
     
     details summary {
       cursor: pointer;
       font-weight: 700;
       color: #389e0d;
       padding: 0.5em;
       background: #f0fff4;
       border-radius: 6px;
       list-style: none;
       display: flex;
       align-items: center;
       transition: background 0.2s ease;
     }
     
     details summary:hover {
       background: #d9f7be;
     }
     
     details summary:before {
       content: "â–¶";
       margin-right: 0.8em;
       transition: transform 0.3s ease;
       font-size: 0.9em;
     }
     
     details[open] summary:before {
       transform: rotate(90deg);
     }
     
     details[open] summary {
       margin-bottom: 1em;
       border-bottom: 2px solid #52C41A;
     }
     
     /* Grammar production boxes */
     .grammar-box {
       background: linear-gradient(135deg, #E6F7FF 0%, #BAE7FF 100%);
       border-left: 6px solid #1890FF;
       padding: 1.2em;
       margin: 1.2em 0;
       border-radius: 8px;
       font-family: 'Courier New', monospace;
       font-size: 1.05em;
       box-shadow: 0 2px 8px rgba(24, 144, 255, 0.15);
     }
     
     .grammar-box strong {
       color: #0050b3;
       display: block;
       margin-bottom: 0.8em;
       font-size: 1.1em;
     }
     
     /* Step-by-step explanation boxes */
     .steps-box {
       background: #FFFBE6;
       border-left: 6px solid #FAAD14;
       padding: 1.2em;
       margin: 1.2em 0;
       border-radius: 8px;
       box-shadow: 0 2px 8px rgba(250, 173, 20, 0.15);
     }
     
     .steps-box strong {
       color: #d48806;
       display: block;
       margin-bottom: 0.5em;
     }
     
     .steps-box ol {
       margin: 0.5em 0 0 1.5em;
       line-height: 1.8;
     }
     
     .steps-box li {
       margin-bottom: 0.6em;
       color: #595959;
     }
     
     /* Derivation trace boxes */
     .derivation-box {
       background: #F0F5FF;
       border: 2px solid #597EF7;
       padding: 1.2em;
       margin: 1.2em 0;
       border-radius: 8px;
       font-family: 'Courier New', monospace;
       box-shadow: 0 2px 8px rgba(89, 126, 247, 0.15);
     }
     
     .derivation-box strong {
       color: #2f54eb;
       display: block;
       margin-bottom: 0.6em;
       font-family: -apple-system, sans-serif;
     }
     
     /* Example boxes */
     .example-box {
       background: #FFF1F0;
       border-left: 6px solid #FF4D4F;
       padding: 1em;
       margin: 1em 0;
       border-radius: 6px;
       font-style: italic;
       color: #595959;
     }
     
     /* CYK table styling */
     .cyk-table {
       margin: 1.5em auto;
       border-collapse: separate;
       border-spacing: 0;
       box-shadow: 0 4px 12px rgba(0,0,0,0.1);
       border-radius: 8px;
       overflow: hidden;
     }
     
     .cyk-table th {
       background: linear-gradient(135deg, #7B1113 0%, #a82729 100%);
       color: white;
       padding: 0.8em 1em;
       font-weight: 700;
       text-align: center;
       border: 1px solid #7B1113;
     }
     
     .cyk-table td {
       padding: 0.8em 1em;
       border: 1px solid #d9d9d9;
       text-align: center;
       background: white;
       font-family: monospace;
     }
     
     .cyk-table tr:nth-child(even) td {
       background: #fafafa;
     }
     
     .cyk-table tr:hover td {
       background: #e6f7ff;
     }
     
     /* Highlight boxes for important notes */
     .highlight-note {
       background: #FFF7E6;
       border: 2px dashed #FFA940;
       padding: 1em;
       margin: 1em 0;
       border-radius: 8px;
       display: flex;
       align-items: start;
     }
     
     .highlight-note:before {
       content: "ğŸ’¡";
       font-size: 1.5em;
       margin-right: 0.8em;
       flex-shrink: 0;
     }
     
     /* NOT possible indicator */
     .not-possible {
       background: #FFF1F0;
       border: 3px solid #FF4D4F;
       padding: 1.2em;
       margin: 1.2em 0;
       border-radius: 8px;
       text-align: center;
       font-weight: 700;
       color: #cf1322;
       font-size: 1.1em;
     }
     
     .not-possible:before {
       content: "âš ï¸ ";
       font-size: 1.3em;
     }
     
     /* Level indicators */
     .level-indicator {
       display: inline-block;
       padding: 0.3em 0.8em;
       border-radius: 20px;
       font-size: 0.85em;
       font-weight: 600;
       margin-left: 0.5em;
     }
     
     .level-basic {
       background: #E6FFFB;
       color: #006d75;
       border: 1px solid #87E8DE;
     }
     
     .level-intermediate {
       background: #FFF7E6;
       color: #d46b08;
       border: 1px solid #FFD591;
     }
     
     .level-advanced {
       background: #FFF1F0;
       color: #a8071a;
       border: 1px solid #FFCCC7;
     }
     
     /* Responsive design */
     @media (max-width: 768px) {
       .admonition, details, .grammar-box, .derivation-box {
         padding: 0.8em;
       }
     }
   </style>

----

Level 1: Basic Pattern Construction
====================================

.. admonition:: **Question 1:** Construct a grammar that accepts the set of all strings of length 2 over :math:`\Sigma = \{a, b\}`.

    .. raw:: html

        <span class="level-indicator level-basic">BASIC</span>

    **Solution:**

    .. raw:: html

        <details>
        <summary><b>ğŸ” Show Complete Solution</b></summary>

    .. raw:: html

        <div class="grammar-box">
        <strong>ğŸ“‹ Grammar Gâ‚:</strong>
        
    .. math::
        S \to XX \\
        X \to a \mid b

    .. raw:: html

        </div>

    .. raw:: html

        <div class="steps-box">
        <strong>ğŸ¯ Step-by-Step Explanation:</strong>
        <ol>
        <li><strong>Goal:</strong> Generate strings with exactly 2 characters.</li>
        <li><strong>Strategy:</strong> Use a helper symbol X that generates one character (a or b).</li>
        <li><strong>Construction:</strong> Start symbol S produces two X symbols in sequence: S â†’ XX.</li>
        <li><strong>Result:</strong> This generates all four possible strings: aa, ab, ba, bb.</li>
        </ol>
        </div>

    .. raw:: html

        <div class="derivation-box">
        <strong>ğŸ“Š Example Derivations:</strong><br><br>
        <strong>For "ab":</strong><br>
        S â‡’ XX â‡’ aX â‡’ ab âœ“<br><br>
        <strong>For "ba":</strong><br>
        S â‡’ XX â‡’ bX â‡’ ba âœ“<br><br>
        <strong>For "aa":</strong><br>
        S â‡’ XX â‡’ aX â‡’ aa âœ“
        </div>

    .. raw:: html

        <div class="example-box">
        ğŸ’­ <strong>Intuition:</strong> Think of it like filling two blank spaces: _ _. Each blank can be filled with 'a' or 'b', giving us 2 Ã— 2 = 4 total strings.
        </div>

    .. raw:: html

        </details>

----

.. admonition:: **Question 2:** Grammar for :math:`L = \{a^n b^m \mid n \geq 1, m \geq 1\}`.

    .. raw:: html

        <span class="level-indicator level-basic">BASIC</span>

    **Solution:**

    .. raw:: html

        <details>
        <summary><b>ğŸ” Show Complete Solution</b></summary>

    .. raw:: html

        <div class="grammar-box">
        <strong>ğŸ“‹ Grammar Gâ‚‚:</strong>
        
    .. math::
        S \to AB \\
        A \to aA \mid a \\
        B \to bB \mid b

    .. raw:: html

        </div>

    .. raw:: html

        <div class="steps-box">
        <strong>ğŸ¯ Step-by-Step Explanation:</strong>
        <ol>
        <li><strong>Pattern:</strong> Some number of a's (at least 1) followed by some number of b's (at least 1).</li>
        <li><strong>Independence:</strong> The count of a's is independent of the count of b's.</li>
        <li><strong>Variable A:</strong> Generates one or more a's. The rule A â†’ a ensures minimum of 1, and A â†’ aA allows more.</li>
        <li><strong>Variable B:</strong> Similarly generates one or more b's.</li>
        <li><strong>Concatenation:</strong> S â†’ AB puts a-section before b-section.</li>
        </ol>
        </div>

    .. raw:: html

        <div class="derivation-box">
        <strong>ğŸ“Š Example Derivation for "aaabbb":</strong><br><br>
        S â‡’ AB<br>
        â‡’ (aA)B â‡’ (a(aA))B â‡’ (a(a(a)))B<br>
        â‡’ aaaB<br>
        â‡’ aaa(bB) â‡’ aaa(b(bB)) â‡’ aaa(b(b(b)))<br>
        â‡’ aaabbb âœ“
        </div>

    .. raw:: html

        <div class="highlight-note">
        The key insight is that n and m are <strong>independent</strong> â€“ we handle them separately with different variables.
        </div>

    .. raw:: html

        </details>

----

.. admonition:: **Question 3:** Grammar for :math:`L = \{a^n b^n \mid n \geq 0\}`.

    .. raw:: html

        <span class="level-indicator level-intermediate">INTERMEDIATE</span>

    **Solution:**

    .. raw:: html

        <details>
        <summary><b>ğŸ” Show Complete Solution</b></summary>

    .. raw:: html

        <div class="grammar-box">
        <strong>ğŸ“‹ Grammar Gâ‚ƒ:</strong>
        
    .. math::
        S \to aSb \mid \epsilon

    .. raw:: html

        </div>

    .. raw:: html

        <div class="steps-box">
        <strong>ğŸ¯ Step-by-Step Explanation:</strong>
        <ol>
        <li><strong>Challenge:</strong> Must have equal numbers of a's and b's.</li>
        <li><strong>Key Idea:</strong> Add one 'a' at the left AND one 'b' at the right simultaneously.</li>
        <li><strong>Recursive Rule:</strong> S â†’ aSb wraps the current string with 'a' and 'b'.</li>
        <li><strong>Base Case:</strong> S â†’ Îµ handles n=0 (empty string).</li>
        <li><strong>Why It Works:</strong> Each recursive step maintains the balance â€“ we never add 'a' without adding 'b'.</li>
        </ol>
        </div>

    .. raw:: html

        <div class="derivation-box">
        <strong>ğŸ“Š Example Derivation for "aabb":</strong><br><br>
        S â‡’ aSb<br>
        â‡’ a(aSb)b<br>
        â‡’ a(aÎµb)b<br>
        â‡’ a(ab)b<br>
        â‡’ aabb âœ“
        <br><br>
        <strong>For empty string (n=0):</strong><br>
        S â‡’ Îµ âœ“
        </div>

    .. raw:: html

        <div class="highlight-note">
        This is the <strong>classic equal-count pattern</strong>. Think of it like balanced parentheses: every opening 'a' has a matching closing 'b'.
        </div>

    .. raw:: html

        </details>

----

Level 2: Position-Based Patterns
=================================

.. admonition:: **Question 6:** Set of strings starting with :math:`a` and ending with :math:`b` over :math:`\Sigma = \{a, b\}`.

    .. raw:: html

        <span class="level-indicator level-basic">BASIC</span>

    **Solution:**

    .. raw:: html

        <details>
        <summary><b>ğŸ” Show Complete Solution</b></summary>

    .. raw:: html

        <div class="grammar-box">
        <strong>ğŸ“‹ Grammar Gâ‚†:</strong>
        
    .. math::
        S \to aXb \mid ab \\
        X \to aX \mid bX \mid \epsilon

    .. raw:: html

        </div>

    .. raw:: html

        <div class="steps-box">
        <strong>ğŸ¯ Step-by-Step Explanation:</strong>
        <ol>
        <li><strong>Constraints:</strong> First symbol must be 'a', last symbol must be 'b'.</li>
        <li><strong>Minimum String:</strong> "ab" is the shortest valid string (handled by S â†’ ab).</li>
        <li><strong>Longer Strings:</strong> Use S â†’ aXb where X generates any middle part.</li>
        <li><strong>Middle Part:</strong> X can generate any string from Î£* (including empty).</li>
        <li><strong>Variable X:</strong> X â†’ aX | bX | Îµ generates (a|b)* using left recursion.</li>
        </ol>
        </div>

    .. raw:: html

        <div class="derivation-box">
        <strong>ğŸ“Š Example Derivations:</strong><br><br>
        <strong>For "ab" (minimum):</strong><br>
        S â‡’ ab âœ“<br><br>
        <strong>For "aabbb":</strong><br>
        S â‡’ aXb<br>
        â‡’ a(aX)b<br>
        â‡’ a(a(bX))b<br>
        â‡’ a(a(b(bX)))b<br>
        â‡’ a(a(b(bÎµ)))b<br>
        â‡’ aabbb âœ“
        </div>

    .. raw:: html

        <div class="example-box">
        ğŸ’­ <strong>Intuition:</strong> Fix the first and last positions, then fill the middle with anything you want.
        </div>

    .. raw:: html

        </details>

----

.. admonition:: **Question 7:** Set of strings starting and ending with **different** symbols over :math:`\Sigma = \{a, b\}`.

    .. raw:: html

        <span class="level-indicator level-intermediate">INTERMEDIATE</span>

    **Solution:**

    .. raw:: html

        <details>
        <summary><b>ğŸ” Show Complete Solution</b></summary>

    .. raw:: html

        <div class="grammar-box">
        <strong>ğŸ“‹ Grammar Gâ‚‡:</strong>
        
    .. math::
        S \to A \mid B \\
        A \to aXb \\
        B \to bXa \\
        X \to aX \mid bX \mid a \mid b \mid \epsilon

    .. raw:: html

        </div>

    .. raw:: html

        <div class="steps-box">
        <strong>ğŸ¯ Step-by-Step Explanation:</strong>
        <ol>
        <li><strong>Two Cases:</strong> Either starts with 'a' and ends with 'b', OR starts with 'b' and ends with 'a'.</li>
        <li><strong>Union:</strong> S â†’ A | B separates the two cases.</li>
        <li><strong>Case A:</strong> A â†’ aXb handles strings like "ab", "aab", "abbb", etc.</li>
        <li><strong>Case B:</strong> B â†’ bXa handles strings like "ba", "baa", "baaa", etc.</li>
        <li><strong>Middle Part:</strong> X generates any sequence from Î£* for the middle.</li>
        </ol>
        </div>

    .. raw:: html

        <div class="derivation-box">
        <strong>ğŸ“Š Example Derivations:</strong><br><br>
        <strong>For "aabab" (Case A):</strong><br>
        S â‡’ A â‡’ aXb<br>
        â‡’ a(aX)b â‡’ a(a(bX))b â‡’ a(a(b(aX)))b<br>
        â‡’ a(a(b(aÎµ)))b â‡’ aabab âœ“<br><br>
        <strong>For "ba" (Case B - minimum):</strong><br>
        S â‡’ B â‡’ bXa â‡’ bÎµa â‡’ ba âœ“
        </div>

    .. raw:: html

        <div class="highlight-note">
        When you need mutually exclusive cases, use the <strong>union pattern</strong>: create separate variables for each case and combine them at the start symbol.
        </div>

    .. raw:: html

        </details>

----

.. admonition:: **Question 8:** Set of all strings starting and ending with the **same** symbol over :math:`\Sigma = \{a, b\}`.

    .. raw:: html

        <span class="level-indicator level-intermediate">INTERMEDIATE</span>

    **Solution:**

    .. raw:: html

        <details>
        <summary><b>ğŸ” Show Complete Solution</b></summary>

    .. raw:: html

        <div class="grammar-box">
        <strong>ğŸ“‹ Grammar Gâ‚ˆ:</strong>
        
    .. math::
        S \to aXa \mid bXb \mid a \mid b \mid \epsilon \\
        X \to aX \mid bX \mid \epsilon

    .. raw:: html

        </div>

    .. raw:: html

        <div class="steps-box">
        <strong>ğŸ¯ Step-by-Step Explanation:</strong>
        <ol>
        <li><strong>Four Sub-cases:</strong>
            <ul>
            <li>Strings of length â‰¥2 starting and ending with 'a': aXa</li>
            <li>Strings of length â‰¥2 starting and ending with 'b': bXb</li>
            <li>Single character strings: a or b</li>
            <li>Empty string: Îµ</li>
            </ul>
        </li>
        <li><strong>Wrap Pattern:</strong> aXa and bXb wrap any middle content with matching symbols.</li>
        <li><strong>Edge Cases:</strong> Single symbols and empty string are explicit base cases.</li>
        </ol>
        </div>

    .. raw:: html

        <div class="derivation-box">
        <strong>ğŸ“Š Example Derivations:</strong><br><br>
        <strong>For "aabaa":</strong><br>
        S â‡’ aXa<br>
        â‡’ a(aX)a â‡’ a(a(bX))a â‡’ a(a(bÎµ))a<br>
        â‡’ aabaa âœ“<br><br>
        <strong>For "b" (single char):</strong><br>
        S â‡’ b âœ“<br><br>
        <strong>For "Îµ" (empty):</strong><br>
        S â‡’ Îµ âœ“
        </div>

    .. raw:: html

        <div class="example-box">
        ğŸ’­ <strong>Key Difference:</strong> Unlike Question 7, we now need the <strong>same</strong> symbol on both ends. We also must handle length 0 and 1 explicitly!
        </div>

    .. raw:: html

        </details>

----

Level 3: Equal Count Dependencies
==================================

.. admonition:: **Question 10:** Set of all **palindromes** (:math:`w = w^R`) over :math:`\Sigma = \{a, b\}`.

    .. raw:: html

        <span class="level-indicator level-intermediate">INTERMEDIATE</span>

    **Solution:**

    .. raw:: html

        <details>
        <summary><b>ğŸ” Show Complete Solution</b></summary>

    .. raw:: html

        <div class="grammar-box">
        <strong>ğŸ“‹ Grammar Gâ‚â‚€:</strong>
        
    .. math::
        S \to aSa \mid bSb \mid a \mid b \mid \epsilon

    .. raw:: html

        </div>

    .. raw:: html

        <div class="steps-box">
        <strong>ğŸ¯ Step-by-Step Explanation:</strong>
        <ol>
        <li><strong>Palindrome Property:</strong> Reads the same forward and backward.</li>
        <li><strong>Recursive Structure:</strong> If we add a symbol to the left, we must add the same symbol to the right.</li>
        <li><strong>Rules S â†’ aSa | bSb:</strong> Maintain palindrome property by wrapping.</li>
        <li><strong>Base Cases:</strong>
            <ul>
            <li>S â†’ a or S â†’ b: Odd-length palindromes (single center character)</li>
            <li>S â†’ Îµ: Even-length palindromes (no center character)</li>
            </ul>
        </li>
        <li><strong>Building Process:</strong> Start from center and grow symmetrically outward.</li>
        </ol>
        </div>

    .. raw:: html

        <div class="derivation-box">
        <strong>ğŸ“Š Example Derivations:</strong><br><br>
        <strong>For "aba" (odd length):</strong><br>
        S â‡’ aSa â‡’ a(b)a â‡’ aba âœ“<br><br>
        <strong>For "abba" (even length):</strong><br>
        S â‡’ aSa â‡’ a(bSb)a â‡’ a(bÎµb)a â‡’ a(bb)a â‡’ abba âœ“<br><br>
        <strong>For "aabaa" (odd length):</strong><br>
        S â‡’ aSa â‡’ a(aSa)a â‡’ a(a(b)a)a â‡’ aabaa âœ“
        </div>

    .. raw:: html

        <div class="highlight-note">
        Palindromes are a <strong>classic CFG pattern</strong>! The key is symmetric growth: S â†’ aSa means "whatever is inside S, wrap it with 'a' on both sides."
        </div>

    .. raw:: html

        </details>

----

.. admonition:: **Question 11:** **Even length strings** (:math:`|w| = 2k, k \geq 0`) over :math:`\Sigma = \{a, b\}`.

    .. raw:: html

        <span class="level-indicator level-basic">BASIC</span>

    **Solution:**

    .. raw:: html

        <details>
        <summary><b>ğŸ” Show Complete Solution</b></summary>

    .. raw:: html

        <div class="grammar-box">
        <strong>ğŸ“‹ Grammar Gâ‚â‚:</strong>
        
    .. math::
        S \to XXS \mid \epsilon \\
        X \to a \mid b

    .. raw:: html

        </div>

    .. raw:: html

        <div class="steps-box">
        <strong>ğŸ¯ Step-by-Step Explanation:</strong>
        <ol>
        <li><strong>Goal:</strong> Length must be 0, 2, 4, 6, ... (multiples of 2).</li>
        <li><strong>Strategy:</strong> Always add symbols in pairs.</li>
        <li><strong>Recursive Rule:</strong> S â†’ XXS adds exactly 2 symbols, then continues.</li>
        <li><strong>Base Case:</strong> S â†’ Îµ stops the process (length 0 is even).</li>
        <li><strong>Variable X:</strong> Generates any single symbol from Î£.</li>
        </ol>
        </div>

    .. raw:: html

        <div class="derivation-box">
        <strong>ğŸ“Š Example Derivation for "abba" (length 4):</strong><br><br>
        S â‡’ XXS<br>
        â‡’ (a)XS â‡’ (a)(b)S<br>
        â‡’ ab(XXS)<br>
        â‡’ ab(b)XS â‡’ ab(b)(a)S<br>
        â‡’ abba(Îµ)<br>
        â‡’ abba âœ“
        </div>

    .. raw:: html

        <div class="example-box">
        ğŸ’­ <strong>Pattern:</strong> For length divisible by n, use n copies of X before the recursive S: S â†’ X...X S (n times).
        </div>

    .. raw:: html

        </details>

----

Level 4: Complex Dependencies
==============================

.. admonition:: **Question 9:** Grammar for :math:`L = \{a^n b^n c^m \mid n \geq 0, m \geq 0\}`.

    .. raw:: html

        <span class="level-indicator level-intermediate">INTERMEDIATE</span>

    **Solution:**

    .. raw:: html

        <details>
        <summary><b>ğŸ” Show Complete Solution</b></summary>

    .. raw:: html

        <div class="grammar-box">
        <strong>ğŸ“‹ Grammar Gâ‚‰:</strong>
        
    .. math::
        S \to AB \\
        A \to aAb \mid \epsilon \\
        B \to cB \mid \epsilon

    .. raw:: html

        </div>

    .. raw:: html

        <div class="steps-box">
        <strong>ğŸ¯ Step-by-Step Explanation:</strong>
        <ol>
        <li><strong>Pattern Analysis:</strong>
            <ul>
            <li>a's and b's must have equal counts (dependent)</li>
            <li>c's are independent of a's and b's</li>
            </ul>
        </li>
        <li><strong>Separation Strategy:</strong> Handle the two parts independently.</li>
        <li><strong>Variable A:</strong> Generates a<sup>n</sup>b<sup>n</sup> using A â†’ aAb | Îµ.</li>
        <li><strong>Variable B:</strong> Generates c<sup>m</sup> using simple recursion B â†’ cB | Îµ.</li>
        <li><strong>Concatenation:</strong> S â†’ AB places the equal-count part before the c's.</li>
        </ol>
        </div>

    .. raw:: html

        <div class="derivation-box">
        <strong>ğŸ“Š Example Derivation for "aabbccc":</strong><br><br>
        S â‡’ AB<br>
        â‡’ (aAb)B<br>
        â‡’ (a(aAb)b)B<br>
        â‡’ (a(aÎµb)b)B<br>
        â‡’ (a(ab)b)B<br>
        â‡’ aabbB<br>
        â‡’ aabb(cB) â‡’ aabb(c(cB)) â‡’ aabb(c(c(cB)))<br>
        â‡’ aabb(c(c(cÎµ)))<br>
        â‡’ aabbccc âœ“
        </div>

    .. raw:: html

        <div class="highlight-note">
        <strong>Key Principle:</strong> When one dependency is independent of another, create separate variables and concatenate them. This is called <strong>sequential composition</strong>.
        </div>

    .. raw:: html

        </details>

----

.. admonition:: **Question 16:** Grammar for :math:`L = \{a^n b^n c^m d^m \mid n \geq 0, m \geq 0\}`.

    .. raw:: html

        <span class="level-indicator level-intermediate">INTERMEDIATE</span>

    **Solution:**

    .. raw:: html

        <details>
        <summary><b>ğŸ” Show Complete Solution</b></summary>

    .. raw:: html

        <div class="grammar-box">
        <strong>ğŸ“‹ Grammar Gâ‚â‚†:</strong>
        
    .. math::
        S \to AB \\
        A \to aAb \mid \epsilon \\
        B \to cBd \mid \epsilon

    .. raw:: html

        </div>

    .. raw:: html

        <div class="steps-box">
        <strong>ğŸ¯ Step-by-Step Explanation:</strong>
        <ol>
        <li><strong>Two Independent Pairs:</strong>
            <ul>
            <li>Pair 1: a<sup>n</sup>b<sup>n</sup> (n a's must equal n b's)</li>
            <li>Pair 2: c<sup>m</sup>d<sup>m</sup> (m c's must equal m d's)</li>
            </ul>
        </li>
        <li><strong>Independence:</strong> n and m are completely independent.</li>
        <li><strong>Variable A:</strong> Handles the first pair using the classic equal-count pattern.</li>
        <li><strong>Variable B:</strong> Handles the second pair using the same pattern.</li>
        <li><strong>Sequential Composition:</strong> S â†’ AB puts the two pairs in sequence.</li>
        </ol>
        </div>

    .. raw:: html

        <div class="derivation-box">
        <strong>ğŸ“Š Example Derivation for "aabbccdd":</strong><br><br>
        S â‡’ AB<br>
        <br>
        <strong>Part 1 - Generate aÂ²bÂ²:</strong><br>
        â‡’ (aAb)B<br>
        â‡’ (a(aAb)b)B<br>
        â‡’ (a(aÎµb)b)B<br>
        â‡’ aabbB<br>
        <br>
        <strong>Part 2 - Generate cÂ²dÂ²:</strong><br>
        â‡’ aabb(cBd)<br>
        â‡’ aabb(c(cBd)d)<br>
        â‡’ aabb(c(cÎµd)d)<br>
        â‡’ aabbccdd âœ“
        </div>

    .. raw:: html

        <div class="highlight-note">
        This is a beautiful example of <strong>compositional design</strong>: two context-free patterns combined sequentially remain context-free!
        </div>

    .. raw:: html

        </details>

----

.. admonition:: **Question 21:** Grammar for :math:`L = \{w \mid w \text{ has equal numbers of } a\text{'s and } b\text{'s}\}`.

    .. raw:: html

        <span class="level-indicator level-advanced">ADVANCED</span>

    **Solution:**

    .. raw:: html

        <details>
        <summary><b>ğŸ” Show Complete Solution</b></summary>

    .. raw:: html

        <div class="grammar-box">
        <strong>ğŸ“‹ Grammar Gâ‚‚â‚:</strong>
        
    .. math::
        S \to SS \mid aSb \mid bSa \mid \epsilon

    .. raw:: html

        </div>

    .. raw:: html

        <div class="steps-box">
        <strong>ğŸ¯ Step-by-Step Explanation:</strong>
        <ol>
        <li><strong>Challenge:</strong> a's and b's can appear in ANY order (not just a<sup>n</sup>b<sup>n</sup>).</li>
        <li><strong>Examples:</strong> "ab", "ba", "aabb", "abab", "baab", "abba" are all valid.</li>
        <li><strong>Rule S â†’ SS:</strong> Concatenate two balanced strings (both have equal a's and b's).</li>
        <li><strong>Rules S â†’ aSb | bSa:</strong> Add one 'a' and one 'b' in either order.</li>
        <li><strong>Base Case:</strong> S â†’ Îµ (empty string has 0 a's and 0 b's - balanced!).</li>
        <li><strong>Why It Works:</strong> We maintain the count balance at every step.</li>
        </ol>
        </div>

    .. raw:: html

        <div class="derivation-box">
        <strong>ğŸ“Š Example Derivations:</strong><br><br>
        <strong>For "abba":</strong><br>
        S â‡’ aSb â‡’ a(bSa)b â‡’ a(bÎµa)b â‡’ abab âŒ<br>
        <em>Let's try again:</em><br>
        S â‡’ aSb â‡’ a(SS)b â‡’ a(bSa)(Îµ)b â‡’ a(bÎµa)b â‡’ abab âŒ<br>
        <em>Correct derivation:</em><br>
        S â‡’ SS â‡’ (aSb)S â‡’ (ab)(bSa) â‡’ (ab)(ba) â‡’ abba âœ“<br><br>
        <strong>For "baab":</strong><br>
        S â‡’ bSa â‡’ b(aSb)a â‡’ b(ab)a â‡’ baab âœ“
        </div>

    .. raw:: html

        <div class="highlight-note">
        This is a <strong>non-trivial CFG</strong>! The S â†’ SS rule is powerful - it lets us combine smaller balanced strings in any way. This is why order doesn't matter.
        </div>

    .. raw:: html

        </details>

----

Level 5: Limitations of CFGs
=============================

.. admonition:: **Question 13:** Grammar for :math:`L = \{a^n b^n c^n \mid n \geq 0\}`.

    .. raw:: html

        <span class="level-indicator level-advanced">ADVANCED</span>

    **Solution:**

    .. raw:: html

        <details>
        <summary><b>ğŸ” Show Complete Solution</b></summary>

    .. raw:: html

        <div class="not-possible">
        âš ï¸ NOT POSSIBLE with a Context-Free Grammar (CFG)
        </div>

    .. raw:: html

        <div class="steps-box">
        <strong>ğŸ¯ Why This Language is NOT Context-Free:</strong>
        <ol>
        <li><strong>The Challenge:</strong> Need all three counts to be equal: #a = #b = #c.</li>
        <li><strong>CFG Limitation:</strong> A pushdown automaton (PDA) has only ONE stack.</li>
        <li><strong>What We Can Do:</strong> We can match TWO counts (like a<sup>n</sup>b<sup>n</sup> or b<sup>n</sup>c<sup>n</sup>).</li>
        <li><strong>Why Three Fails:</strong>
            <ul>
            <li>To match a's and b's, we push a's and pop when we see b's.</li>
            <li>But then how do we also ensure c's match?</li>
            <li>We'd need a second stack (or two-dimensional memory).</li>
            </ul>
        </li>
        <li><strong>Language Class:</strong> This is a <strong>Context-Sensitive Language</strong> (CSL).</li>
        </ol>
        </div>

    .. raw:: html

        <div class="example-box">
        ğŸ’­ <strong>Intuition:</strong> A CFG can "remember" one count using its stack. To remember two independent counts simultaneously, you need more power than a CFG provides.
        </div>

    .. raw:: html

        <div class="highlight-note">
        <strong>Pumping Lemma Proof Sketch:</strong><br>
        Consider the string w = a<sup>p</sup>b<sup>p</sup>c<sup>p</sup> where p is the pumping length. Any decomposition w = uvxyz with |vxy| â‰¤ p means vxy can span at most 2 symbol types. When we pump (repeat vxy), we change at most 2 counts, breaking the three-way equality.
        </div>

    .. raw:: html

        </details>

----

.. admonition:: **Question 20:** Grammar for :math:`L = \{a^n b^n c^n \mid n \geq 1\}`.

    .. raw:: html

        <span class="level-indicator level-advanced">ADVANCED</span>

    **Solution:**

    .. raw:: html

        <details>
        <summary><b>ğŸ” Show Complete Solution</b></summary>

    .. raw:: html

        <div class="not-possible">
        âš ï¸ NOT POSSIBLE with a Context-Free Grammar (CFG)
        </div>

    .. raw:: html

        <div class="steps-box">
        <strong>ğŸ¯ Explanation:</strong>
        <ol>
        <li><strong>Same Problem:</strong> This is identical to Question 13, just excluding the empty string (n=0).</li>
        <li><strong>The Core Issue:</strong> The constraint #a = #b = #c still requires tracking three counts simultaneously.</li>
        <li><strong>Why Excluding Îµ Doesn't Help:</strong> The fundamental limitation is about simultaneous counting, not about the minimum length.</li>
        <li><strong>Pumping Lemma:</strong> This language is the canonical example used to prove the Pumping Lemma for CFGs.</li>
        </ol>
        </div>

    .. raw:: html

        <div class="example-box">
        ğŸ’­ <strong>Remember:</strong> If you need to enforce <strong>three or more equal counts</strong>, you're beyond the power of CFGs!
        </div>

    .. raw:: html

        </details>

----

Level 6: Advanced Parsing - CYK Algorithm
==========================================

.. admonition:: **Question 23:** **CYK Algorithm:** Check whether the string :math:`w=aab` is a valid member of the grammar :math:`G` with productions: :math:`S \to AB \mid BC`, :math:`A \to BA \mid a`, :math:`B \to CC \mid b`, :math:`C \to AB \mid a`.

    .. raw:: html

        <span class="level-indicator level-advanced">ADVANCED</span>

    **Solution:**

    .. raw:: html

        <details>
        <summary><b>ğŸ” Show Complete Solution with CYK Table</b></summary>

    .. raw:: html

        <div class="steps-box">
        <strong>ğŸ¯ CYK Algorithm Overview:</strong>
        <ol>
        <li><strong>Requirement:</strong> Grammar must be in Chomsky Normal Form (CNF).</li>
        <li><strong>Check CNF:</strong> All rules are A â†’ BC or A â†’ a. âœ“ This grammar is in CNF!</li>
        <li><strong>Table Structure:</strong> Build a triangular table bottom-up.</li>
        <li><strong>Process:</strong> For each substring, check which non-terminals can generate it.</li>
        </ol>
        </div>

    .. raw:: html

        <div class="grammar-box">
        <strong>ğŸ“‹ Given Grammar (Already in CNF):</strong><br>
        S â†’ AB | BC<br>
        A â†’ BA | a<br>
        B â†’ CC | b<br>
        C â†’ AB | a
        </div>

    **CYK Table Construction for** :math:`w = a_1 a_2 b_3`:

    .. raw:: html

        <table class="cyk-table">
        <thead>
        <tr>
          <th>Length</th>
          <th>Position 1</th>
          <th>Position 2</th>
          <th>Position 3</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td><strong>3</strong></td>
          <td>{B}</td>
          <td>â€”</td>
          <td>â€”</td>
        </tr>
        <tr>
          <td><strong>2</strong></td>
          <td>{B}</td>
          <td>{S, C}</td>
          <td>â€”</td>
        </tr>
        <tr>
          <td><strong>1</strong></td>
          <td>{A, C}</td>
          <td>{A, C}</td>
          <td>{B}</td>
        </tr>
        <tr>
          <td><strong>Input</strong></td>
          <td>a</td>
          <td>a</td>
          <td>b</td>
        </tr>
        </tbody>
        </table>

    .. raw:: html

        <div class="derivation-box">
        <strong>ğŸ“Š Step-by-Step Table Construction:</strong><br><br>
        
        <strong>Step 1: Length 1 (Base cases)</strong><br>
        â€¢ V<sub>1,1</sub> for 'a': Which rules have â†’ a? <strong>A â†’ a</strong> and <strong>C â†’ a</strong><br>
        &nbsp;&nbsp;â‡’ V<sub>1,1</sub> = {A, C}<br>
        â€¢ V<sub>2,1</sub> for 'a': Same as above<br>
        &nbsp;&nbsp;â‡’ V<sub>2,1</sub> = {A, C}<br>
        â€¢ V<sub>3,1</sub> for 'b': Which rules have â†’ b? <strong>B â†’ b</strong><br>
        &nbsp;&nbsp;â‡’ V<sub>3,1</sub> = {B}<br><br>
        
        <strong>Step 2: Length 2</strong><br>
        â€¢ V<sub>1,2</sub> for "aa" (positions 1-2):<br>
        &nbsp;&nbsp;Split: V<sub>1,1</sub> Ã— V<sub>2,1</sub> = {A,C} Ã— {A,C}<br>
        &nbsp;&nbsp;Check: AA (no rule), AC (no rule), CA (no rule), CC (B â†’ CC âœ“)<br>
        &nbsp;&nbsp;â‡’ V<sub>1,2</sub> = {B}<br><br>
        
        â€¢ V<sub>2,2</sub> for "ab" (positions 2-3):<br>
        &nbsp;&nbsp;Split: V<sub>2,1</sub> Ã— V<sub>3,1</sub> = {A,C} Ã— {B}<br>
        &nbsp;&nbsp;Check: AB (S â†’ AB âœ“, C â†’ AB âœ“), CB (no rule)<br>
        &nbsp;&nbsp;â‡’ V<sub>2,2</sub> = {S, C}<br><br>
        
        <strong>Step 3: Length 3</strong><br>
        â€¢ V<sub>1,3</sub> for "aab" (full string):<br>
        &nbsp;&nbsp;<strong>Split k=1:</strong> V<sub>1,1</sub> Ã— V<sub>2,2</sub> = {A,C} Ã— {S,C}<br>
        &nbsp;&nbsp;Check: AS (no rule), AC (no rule), CS (no rule), CC (B â†’ CC âœ“)<br>
        &nbsp;&nbsp;â‡’ Found: {B}<br><br>
        
        &nbsp;&nbsp;<strong>Split k=2:</strong> V<sub>1,2</sub> Ã— V<sub>3,1</sub> = {B} Ã— {B}<br>
        &nbsp;&nbsp;Check: BB (no rule)<br>
        &nbsp;&nbsp;â‡’ Nothing new<br><br>
        
        &nbsp;&nbsp;â‡’ V<sub>1,3</sub> = {B}
        </div>

    .. raw:: html

        <div class="highlight-note">
        <strong>ğŸ” Final Answer:</strong> Since the start symbol <strong>S</strong> is <strong>NOT</strong> in V<sub>1,3</sub>, the string "aab" is <strong>REJECTED</strong> âŒ
        </div>

    .. raw:: html

        <div class="example-box">
        ğŸ’­ <strong>What CYK tells us:</strong> The string "aab" CAN be generated by the grammar (specifically, by non-terminal B), but it CANNOT be generated starting from the start symbol S. Therefore, it's not in the language L(G).
        </div>

    .. raw:: html

        </details>

----

Summary: Key CFG Patterns
=========================

.. raw:: html

   <div class="grammar-box">
   <strong>ğŸ¯ Essential Patterns to Remember:</strong><br><br>
   
   <strong>1. Single Count Pattern:</strong><br>
   â€¢ a<sup>n</sup>: S â†’ aS | Îµ<br>
   â€¢ a<sup>n</sup> (nâ‰¥1): S â†’ aS | a<br><br>
   
   <strong>2. Equal Count Pattern:</strong><br>
   â€¢ a<sup>n</sup>b<sup>n</sup>: S â†’ aSb | Îµ<br>
   â€¢ Palindromes: S â†’ aSa | bSb | a | b | Îµ<br><br>
   
   <strong>3. Independent Patterns:</strong><br>
   â€¢ a<sup>n</sup>b<sup>m</sup>: S â†’ AB, A â†’ aA|a, B â†’ bB|b<br>
   â€¢ Use concatenation when counts are independent<br><br>
   
   <strong>4. Union Pattern:</strong><br>
   â€¢ Case 1 OR Case 2: S â†’ A | B<br>
   â€¢ Use for mutually exclusive alternatives<br><br>
   
   <strong>5. Position Constraints:</strong><br>
   â€¢ Start/End: Fix boundaries, generate middle freely<br>
   â€¢ Example: a...b â†’ S â†’ aXb, X â†’ (a|b)*<br>
   </div>

.. raw:: html

   <div class="highlight-note">
   <strong>âš¡ Power of CFGs:</strong><br>
   
   âœ“ Can handle: nested structures, palindromes, two equal counts<br>

   âœ— Cannot handle: three+ equal counts, context-sensitive patterns, a<sup>n</sup>b<sup>n</sup>c<sup>n</sup>
   </div>

----
